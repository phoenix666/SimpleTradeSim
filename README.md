# SimpleTradeSim

Простой симулятор торговли. Загрузка и визуализация свечей в браузере с возможностью открытия позиций, установки стоп-лосса и тейк-профита.

## Структура

```
index.html
js/
  db.js      # IndexedDB операции
  parser.js  # парсинг CSV/TXT
  chart.js   # canvas рендеринг свечей
  app.js     # инициализация и UI
API.md      # документация API
```

## Функции

- Загрузка CSV/TXT файлов с автоматическим определением разделителя и колонок O-H-L-C
- Хранение данных в IndexedDB (браузерная база)
- Визуализация свечей на canvas (чёрный фон, зелёные/красные свечи)
- Открытие длинных (Long) и коротких (Short) позиций
- Кредитное плечо (10x, 20x, 50x, 100x)
- Автоматический расчёт стоп-лосса и тейк-профита на основе волатильности
- Ручная установка стоп/лимита перетаскиванием линий на графике мышью
- Автоматическое закрытие позиции при достижении стопа или лимита
- Пошаговое продвижение по свечам (Step Forward)
- Случайная позиция на графике (Random)
- Лог операций

## Управление

- **Buy** - открыть Long или закрыть Short
- **Sell** - открыть Short или закрыть Long
- **Step Forward** - перейти к следующей свече, проверить стопы/лимиты
- **Random** - случайная позиция на графике, сброс позиции
- **Drag & drop** - перетаскивание линий стопа/лимита на графике

## Запуск

Открыть `index.html` в браузере.

## Формат данных

```js
{
  id: number,      // автоинкремент
  open: number,
  high: number,
  low: number,
  close: number
}
```
